{"version":3,"sources":["components/Product.js","components/ProductList.js","helpers/helper.js","components/ShoppingCartItem.js","components/ShoppingCart.js","components/Shop.js","components/NotFound.js","components/Intro.js","components/App.js","index.js"],"names":["Product","inputAmount","React","createRef","product","this","props","className","name","description","price","type","defaultValue","size","ref","onClick","addProductToCart","_id","Number","current","value","Component","ProductList","productCount","Object","keys","products","length","id","map","key","round","num","precision","modifier","Math","ShoppingCartItem","amount","increaseProductAmount","decreaseProductAmount","ShoppingCart","itemCount","cart","uuid","colSpan","total","reduce","currentProductId","calculateTotal","Shop","productId","isNaN","state","setState","console","log","localStorage","JSON","parse","getItem","shoppingcart","loadProducts","setItem","stringify","fetch","then","response","json","NotFound","document","title","Intro","to","item","App","exact","path","component","render","querySelector"],"mappings":"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","file":"static/js/main.f8bc7eee.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nclass Product extends Component {\n  // React Refs -> https://reactjs.org/docs/refs-and-the-dom.html\n  inputAmount = React.createRef();\n\n  render() {\n    const product = this.props.product;\n    return (\n      <div className=\"product\">\n        <h2>{product.name}</h2>\n        <div className=\"description\">{product.description}</div>\n        <div className=\"price\">€ {product.price}</div>\n\n        <div className=\"form-inline mt-2\">\n          <input\n            type=\"text\"\n            className=\"form-control form-control-sm  mr-2\"\n            defaultValue=\"1\"\n            size=\"4\"\n            ref={this.inputAmount}\n          />\n          <button\n            className=\"add-to-cart btn btn-sm btn-primary\"\n            onClick={() => {\n              this.props.addProductToCart(\n                product._id,\n                Number(this.inputAmount.current.value)\n              );\n            }}\n          >\n            <i className=\"fas fa-shopping-cart\"></i> Add to cart\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Product;\n","import React, { Component, Fragment } from 'react'\nimport Product from './Product';\n\nexport default class ProductList extends Component {\n\n  render() {\n    const productCount = Object.keys(this.props.products).length;\n    return (\n      <div id=\"products\">\n        <h1>Products</h1>\n\n        {productCount === 0 && (\n          <div className=\"empty\">\n            <i className=\"fas fa-spinner fa-spin\" />\n            &nbsp; Loading ...\n                </div>\n        )}\n\n        {productCount > 0 && (\n          <Fragment>\n            <div className=\"row\">\n              {Object.keys(this.props.products).map(id => (\n                <div key={id} className=\"col-sm-6 col-md-6 col-lg-6\">\n                  <Product\n                    key={id}\n                    product={this.props.products[id]}\n                    addProductToCart={this.props.addProductToCart}\n                  />\n                </div>\n              ))}\n            </div>\n          </Fragment>\n        )}\n      </div>\n    );\n  }\n}\n","//To round the sums\nexport const round = (num, precision = 0) => {\n    const modifier = 10 ** precision\n    return !modifier ? Math.round(num) : Math.round(num * modifier) / modifier\n}\n\n//Calculate the total price of the cart\nexport const calculateTotal = (cart, products) => {\n    const total = Object.keys(cart).reduce(\n        (total, currentProductId) => {\n            const price = products[currentProductId].price;\n            const amount = cart[currentProductId];\n            return (total += round(price * amount, 2));\n        },\n        0\n    );\n\n    return round(total, 2);\n};\n\n","import React, { Component } from \"react\";\n// The helper functions are here\nimport { round } from \"../helpers/helper\"\n\nclass ShoppingCartItem extends Component {\n  render() {\n    const product = this.props.product;\n\n    return (\n      <tr className=\"shopping-cart-item\">\n        <td>{this.props.amount}</td>\n        <td>{product.name}</td>\n        <td>{product.price}</td>\n        <td>{round(product.price * this.props.amount, 2)}</td>\n        <td>\n          <button\n            className=\"btn btn-sm btn-success mr-2\"\n            onClick={() => {\n              this.props.increaseProductAmount(product._id);\n            }}\n          >\n            +\n          </button>\n          <button\n            className=\"btn btn-sm btn-danger\"\n            onClick={() => {\n              this.props.decreaseProductAmount(product._id);\n            }}\n          >\n            -\n          </button>\n        </td>\n      </tr>\n    );\n  }\n}\n\nexport default ShoppingCartItem;\n","import React, { Component } from \"react\";\nimport ShoppingCartItem from \"./ShoppingCartItem\";\n// The helper functions are here\nimport { calculateTotal } from \"../helpers/helper\"\n\nclass ShoppingCart extends Component {\n\n\n  render() {\n    const itemCount = Object.keys(this.props.cart).length;\n\n    return (\n      <div id=\"cart\">\n        <h1>Shopping Cart</h1>\n\n        {itemCount === 0 && <div className=\"empty\">- no products yet -</div>}\n\n        {itemCount > 0 && (\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>Amount</th>\n                <th>Name</th>\n                <th>Price</th>\n                <th>Total</th>\n                <th>Update</th>\n              </tr>\n            </thead>\n            <tbody>\n              {Object.keys(this.props.cart).map(uuid => (\n                <ShoppingCartItem\n                  key={uuid}\n                  product={this.props.products[uuid]}\n                  amount={this.props.cart[uuid]}\n                  increaseProductAmount={this.props.increaseProductAmount}\n                  decreaseProductAmount={this.props.decreaseProductAmount}\n                />\n              ))}\n              <tr>\n                <td colSpan=\"5\">&nbsp;</td>\n              </tr>\n              <tr>\n                <td colSpan=\"3\">&nbsp;</td>\n                <td>\n                  <strong>Total</strong>\n                </td>\n                <td className=\"text-right\">€ {calculateTotal(this.props.cart, this.props.products)}</td>\n              </tr>\n            </tbody>\n          </table>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ShoppingCart;\n","import React, { Component } from \"react\";\nimport ProductList from \"./ProductList\";\nimport ShoppingCart from \"./ShoppingCart\";\n\nclass Shop extends Component {\n    constructor() {\n        super();\n        // Local Storage - check if we saved shoppingcart\n        this.localStorage = JSON.parse(localStorage.getItem('shoppingcart'))\n        this.shoppingcart = (this.localStorage !== null ? this.localStorage : {})\n\n        this.state = {\n            products: {},\n            cart: {}\n        };\n    }\n\n    componentDidMount() {\n        this.loadProducts();\n    }\n\n    componentDidUpdate() {\n        //Update localstoarage if cart changes\n        localStorage.setItem(\"shoppingcart\", JSON.stringify(this.state.cart))\n    }\n\n    loadProducts() {\n        fetch(\"products.json\")\n            .then(response => {\n                return response.json();\n            })\n            .then(products => {\n                this.setState(state => {\n                    state.products = products;\n                    //if the localstorage contain a cart it will be used\n                    state.cart = this.shoppingcart\n                    return state;\n                });\n            });\n    }\n\n    addProductToCart = (productId, amount) => {\n        if (amount < 1 || Number.isNaN(Number(amount))) {\n            return;\n        }\n\n        // setState the right way! https://reactjs.org/docs/react-component.html#setstate\n        if (productId in this.state.cart) {\n            this.setState(state => {\n                state.cart[productId] += amount;\n                console.log(state)\n                return state;\n            });\n        } else {\n            this.setState(state => {\n                state.cart[productId] = amount;\n                return state;\n            });\n        }\n    };\n\n    increaseProductAmount = productId => {\n        this.setState(state => {\n            state.cart[productId]++;\n            return state;\n        });\n    };\n\n    decreaseProductAmount = productId => {\n        if (this.state.cart[productId] > 1) {\n            this.setState(state => {\n                state.cart[productId]--;\n                return state;\n            });\n        } else {\n            this.setState(state => {\n                delete state.cart[productId];\n                return state;\n            });\n        }\n    };\n\n    render() {\n        return (\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col-sm-6 col-md-6 col-lg-6\">\n                        <ProductList\n                            products={this.state.products}\n                            addProductToCart={this.addProductToCart}\n                        />\n                    </div>\n                    <div className=\"col-sm-6 col-md-6 col-lg-6\">\n                        <ShoppingCart\n                            cart={this.state.cart}\n                            products={this.state.products}\n                            increaseProductAmount={this.increaseProductAmount}\n                            decreaseProductAmount={this.decreaseProductAmount}\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Shop;\n","import React, { Component } from 'react';\n\nclass NotFound extends Component {\n  componentDidMount() {\n    document.title = 'Error 404';\n  }\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"alert alert-warning\">\n          <h2>Page not found</h2>\n          <strong>The requested page does not exist.</strong>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default NotFound;\n","import React from 'react'\nimport { Link } from 'react-router-dom';\n\nexport default function Intro() {\n    return (\n        <div className=\"container text-center\">\n            <h1>Simple React Shop</h1>\n\n            <Link to=\"/shop\">\n                <i className=\"fas fa-shopping-cart fa-10x\"></i>\n            </Link>\n            <h3>Built with</h3>\n            <div className=\"text-left box\">\n\n                <ul>\n                    {\n                        ['React', 'React Router', 'Bootstrap', 'LocalStorage', 'Helper Functions']\n                            .map(\n                                (item, id) => <li key={id}>{item}</li>\n                            )\n                    }\n\n                </ul>\n            </div>\n\n        </div>\n    )\n}\n","import React, { Component, Fragment } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Shop from './Shop';\nimport NotFound from './NotFound';\nimport Intro from './Intro';\n\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\" component={Intro} />\n          <Route path=\"/shop\" component={Shop} />\n          <Route component={NotFound} />\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport App from './components/App';\n\nimport '@fortawesome/fontawesome-free/css/all.css';\nimport './sass/style.scss';\n\nrender(<App />, document.querySelector('#main'));\n"],"sourceRoot":""}