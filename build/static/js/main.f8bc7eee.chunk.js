(window["webpackJsonpreact-shop"]=window["webpackJsonpreact-shop"]||[]).push([[0],{22:function(e,t,a){e.exports=a(34)},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a(2),l=a(3),u=a(5),s=a(4),i=a(6),m=a(13),p=a(10),d=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).inputAmount=r.a.createRef(),a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.product;return r.a.createElement("div",{className:"product"},r.a.createElement("h2",null,t.name),r.a.createElement("div",{className:"description"},t.description),r.a.createElement("div",{className:"price"},"\u20ac ",t.price),r.a.createElement("div",{className:"form-inline mt-2"},r.a.createElement("input",{type:"text",className:"form-control form-control-sm  mr-2",defaultValue:"1",size:"4",ref:this.inputAmount}),r.a.createElement("button",{className:"add-to-cart btn btn-sm btn-primary",onClick:function(){e.props.addProductToCart(t._id,Number(e.inputAmount.current.value))}},r.a.createElement("i",{className:"fas fa-shopping-cart"})," Add to cart")))}}]),t}(n.Component),h=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.products).length;return r.a.createElement("div",{id:"products"},r.a.createElement("h1",null,"Products"),0===t&&r.a.createElement("div",{className:"empty"},r.a.createElement("i",{className:"fas fa-spinner fa-spin"}),"\xa0 Loading ..."),t>0&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},Object.keys(this.props.products).map(function(t){return r.a.createElement("div",{key:t,className:"col-sm-6 col-md-6 col-lg-6"},r.a.createElement(d,{key:t,product:e.props.products[t],addProductToCart:e.props.addProductToCart}))}))))}}]),t}(n.Component),E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=Math.pow(10,t);return a?Math.round(e*a)/a:Math.round(e)},f=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.product;return r.a.createElement("tr",{className:"shopping-cart-item"},r.a.createElement("td",null,this.props.amount),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.price),r.a.createElement("td",null,E(t.price*this.props.amount,2)),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-sm btn-success mr-2",onClick:function(){e.props.increaseProductAmount(t._id)}},"+"),r.a.createElement("button",{className:"btn btn-sm btn-danger",onClick:function(){e.props.decreaseProductAmount(t._id)}},"-")))}}]),t}(n.Component),b=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.cart).length;return r.a.createElement("div",{id:"cart"},r.a.createElement("h1",null,"Shopping Cart"),0===t&&r.a.createElement("div",{className:"empty"},"- no products yet -"),t>0&&r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Total"),r.a.createElement("th",null,"Update"))),r.a.createElement("tbody",null,Object.keys(this.props.cart).map(function(t){return r.a.createElement(f,{key:t,product:e.props.products[t],amount:e.props.cart[t],increaseProductAmount:e.props.increaseProductAmount,decreaseProductAmount:e.props.decreaseProductAmount})}),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"5"},"\xa0")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3"},"\xa0"),r.a.createElement("td",null,r.a.createElement("strong",null,"Total")),r.a.createElement("td",{className:"text-right"},"\u20ac ",function(e,t){var a=Object.keys(e).reduce(function(a,n){var r=t[n].price,c=e[n];return a+E(r*c,2)},0);return E(a,2)}(this.props.cart,this.props.products))))))}}]),t}(n.Component),v=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).addProductToCart=function(t,a){a<1||Number.isNaN(Number(a))||(t in e.state.cart?e.setState(function(e){return e.cart[t]+=a,console.log(e),e}):e.setState(function(e){return e.cart[t]=a,e}))},e.increaseProductAmount=function(t){e.setState(function(e){return e.cart[t]++,e})},e.decreaseProductAmount=function(t){e.state.cart[t]>1?e.setState(function(e){return e.cart[t]--,e}):e.setState(function(e){return delete e.cart[t],e})},e.localStorage=JSON.parse(localStorage.getItem("shoppingcart")),e.shoppingcart=null!==e.localStorage?e.localStorage:{},e.state={products:{},cart:{}},e}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.loadProducts()}},{key:"componentDidUpdate",value:function(){localStorage.setItem("shoppingcart",JSON.stringify(this.state.cart))}},{key:"loadProducts",value:function(){var e=this;fetch("products.json").then(function(e){return e.json()}).then(function(t){e.setState(function(a){return a.products=t,a.cart=e.shoppingcart,a})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},r.a.createElement(h,{products:this.state.products,addProductToCart:this.addProductToCart})),r.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},r.a.createElement(b,{cart:this.state.cart,products:this.state.products,increaseProductAmount:this.increaseProductAmount,decreaseProductAmount:this.decreaseProductAmount}))))}}]),t}(n.Component),j=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="Error 404"}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"alert alert-warning"},r.a.createElement("h2",null,"Page not found"),r.a.createElement("strong",null,"The requested page does not exist.")))}}]),t}(n.Component);function O(){return r.a.createElement("div",{className:"container text-center"},r.a.createElement("h1",null,"Simple React Shop"),r.a.createElement(m.b,{to:"/shop"},r.a.createElement("i",{className:"fas fa-shopping-cart fa-10x"})),r.a.createElement("h3",null,"Built with"),r.a.createElement("div",{className:"text-left box"},r.a.createElement("ul",null,["React","React Router","Bootstrap","LocalStorage","Helper Functions"].map(function(e,t){return r.a.createElement("li",{key:t},e)}))))}var y=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:O}),r.a.createElement(p.a,{path:"/shop",component:v}),r.a.createElement(p.a,{component:j})))}}]),t}(n.Component);a(32),a(33);Object(c.render)(r.a.createElement(y,null),document.querySelector("#main"))}},[[22,1,2]]]);
//# sourceMappingURL=main.f8bc7eee.chunk.js.map